{%extends "notfirstapp/base2.html"%}
{%load staticfiles%}
{%block content%}


<script type="text/javascript" language="javascript">
$(function(){

    var currentValue = $('#currentValue');
    var rating = $('#rating');

    $('#defaultSlider').change(function(){
        currentValue.html(this.value);
        rating.val(this.value);     
    });

    $('#defaultSlider').change();
});
</script> 

		
<style>
    input[type='range'] {
    -webkit-appearance: none;
    border-radius: 5px;
    box-shadow: inset 0 0 5px #333;
    background-color: #999;
    height: 10px;
    vertical-align: middle;
    }
    input[type='range']::-moz-range-track {
    -moz-appearance: none;
    border-radius: 5px;
    box-shadow: inset 0 0 5px #333;
    background-color: #999;
    height: 10px;
    }
    input[type='range']::-webkit-slider-thumb {
    -webkit-appearance: none !important;
    border-radius: 20px;
    background-color: #FFF;
    box-shadow:inset 0 0 10px rgba(000,000,000,0.5);
    border: 1px solid #999;
    height: 20px;
    width: 20px;
    }
    input[type='range']::-moz-range-thumb {
    -moz-appearance: none;
    border-radius: 20px;
    background-color: #FFF;
    box-shadow:inset 0 0 10px rgba(000,000,000,0.5);
    border: 1px solid #999;
    height: 20px;
    width: 20px;
    }
    
.slider
{
    width: 200px !important;
}

.comment {
    content: '\A';
    white-space: pre;

}

.comment label{
display:block;clear:both;

</style>		



	{% if game %}
	<div class='container-fluid'>
		<div class='row'>
			<div class='col-xs-8 col-xs-offset-2 embed-responsive embed-responsive-16by9'>
				<iframe class='embed-responsive-item' src={{game.depolyed_path}} scrolling="no" frameborder="0"></iframe>
			</div>
			
		</div>
		<div  class='row'>
			<div class='col-xs-8 col-xs-offset-2'>
			
			
				<p> {{played }} times played </p>
				
				{% if ratings %}
				<p>Current Rating: {{rating}} by ratings {{ ratings }} users</p>	
				
				{% else  %}
				<p>Currently not rated yet</p>	
				{% endif %}
				
				{% if rate_warning %}
			    <div class="alert alert-danger">
			        <a href="#" class="close" data-dismiss="alert">&times;</a>
			        <strong>Error!</strong> Need to be logged in to rate
			    </div>
				{% endif %}
				
				
				
				
				<div data-role="main"  class='col-xs-12 col-xs-offset-0'>
			    <form action="./{{game}}" method="post">
			       {% csrf_token %}
			       
			    
			      <label for="points">Rating: <span id="currentValue">0</span></label>
					<input class="slider" id="defaultSlider" type="range" min="0" max="10" />
					<input type="hidden" id="rating" name="rating" value="-3">
					<input type="submit" data-inline="true" name="action"  value="Rate">
				
				
					
			    </form>
						
		</div>

	</div>
	{%include 'notfirstapp/commentlist.html'%}
	{% if user.is_authenticated%}
		{%include 'notfirstapp/commentcreate.html'%}
	{% else%}
		{%include 'notfirstapp/loginpopup.html' with message="to make a new comment." %}
	{%endif%}
    {% else %}
	    <div class='container-fluid' style='margin-top:10%;'>
            <div class='row'>
                <div class='col-xs-8 col-xs-offset-2 jumbotron'>
                    <p>Sorry, we can't find the game.</p>
                </div>
            </div>
        </div>
	{% endif %}
{%endblock content%}

{%block about%}{%endblock about%}